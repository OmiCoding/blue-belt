module.exports=function(e){var t={},r={15:0};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.e=function(t){if(0!==r[t]){var n=require("./"+t+".server.js"),o=n.modules,a=n.ids;for(var s in o)e[s]=o[s];for(var i=0;i<a.length;i++)r[a[i]]=0}return Promise.all([])},n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/server/",n.oe=function(e){process.nextTick((function(){throw e}))},n(n.s=42)}([function(e,t){e.exports=require("react")},function(e,t){e.exports=require("@hapi/joi")},function(e,t){e.exports=require("react-dom/server")},function(e,t){e.exports=require("mongoose")},function(e,t){e.exports=require("react-router-dom")},function(e,t){e.exports=require("react-helmet")},function(e,t){e.exports=require("@emotion/core")},function(e,t){e.exports=require("path")},function(e,t){e.exports=require("create-emotion-server")},function(e,t){e.exports=require("@emotion/cache")},function(e,t){e.exports=require("express")},function(e,t){e.exports=require("bcryptjs")},function(e,t){e.exports=require("@loadable/server")},function(e,t){e.exports=require("@loadable/component")},function(e,t){e.exports=require("passport")},function(e,t,r){"use strict";r.d(t,"b",(function(){return a})),r.d(t,"j",(function(){return s})),r.d(t,"a",(function(){return i})),r.d(t,"d",(function(){return c})),r.d(t,"c",(function(){return u})),r.d(t,"g",(function(){return p})),r.d(t,"f",(function(){return d})),r.d(t,"h",(function(){return m})),r.d(t,"i",(function(){return y})),r.d(t,"e",(function(){return h}));var n=r(13),o=r.n(n);const a={path:"/",exact:!0,strict:!1,component:o()({resolved:{},chunkName:()=>"components-Home",isReady(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!r.m[t]},importAsync:()=>r.e(11).then(r.bind(null,37)),requireAsync(e){var t=this,r=this.resolve(e);return this.resolved[r]=!1,this.importAsync(e).then((function(e){return t.resolved[r]=!0,e}))},requireSync(e){var t=this.resolve(e);return r(t)},resolve(){return 37}})},s={path:"/dashboard/worker/:worker",exact:!0,strict:!1,component:o()({resolved:{},chunkName:()=>"client-components-dashboard-worker-WorkerDashboard",isReady(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!r.m[t]},importAsync:()=>Promise.all([r.e(0),r.e(1),r.e(2),r.e(10)]).then(r.bind(null,38)),requireAsync(e){var t=this,r=this.resolve(e);return this.resolved[r]=!1,this.importAsync(e).then((function(e){return t.resolved[r]=!0,e}))},requireSync(e){var t=this.resolve(e);return r(t)},resolve(){return 38}})},i={path:"/dashboard/company/:company",exact:!0,strict:!1,component:o()({resolved:{},chunkName:()=>"client-components-dashboard-company-CompanyDashboard",isReady(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!r.m[t]},importAsync:()=>Promise.all([r.e(0),r.e(1),r.e(2),r.e(7)]).then(r.bind(null,39)),requireAsync(e){var t=this,r=this.resolve(e);return this.resolved[r]=!1,this.importAsync(e).then((function(e){return t.resolved[r]=!0,e}))},requireSync(e){var t=this.resolve(e);return r(t)},resolve(){return 39}})},c={path:"/dashboard/worker/:worker/jobs",exact:!0,strict:!1,component:o()({resolved:{},chunkName:()=>"client-components-dashboard-search-JobSearch",isReady(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!r.m[t]},importAsync:()=>Promise.all([r.e(0),r.e(1),r.e(9)]).then(r.bind(null,19)),requireAsync(e){var t=this,r=this.resolve(e);return this.resolved[r]=!1,this.importAsync(e).then((function(e){return t.resolved[r]=!0,e}))},requireSync(e){var t=this.resolve(e);return r(t)},resolve(){return 19}})},l={path:"/dashboard/worker/:worker/jobs",exact:!0,strict:!1,component:o()({resolved:{},chunkName:()=>"client-components-dashboard-search-JobSearch",isReady(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!r.m[t]},importAsync:()=>Promise.all([r.e(0),r.e(1),r.e(9)]).then(r.bind(null,19)),requireAsync(e){var t=this,r=this.resolve(e);return this.resolved[r]=!1,this.importAsync(e).then((function(e){return t.resolved[r]=!0,e}))},requireSync(e){var t=this.resolve(e);return r(t)},resolve(){return 19}})},u={path:"/dashboard/worker/:worker/jobs/jobpost/:id",exact:!1,strict:!1,component:o()({resolved:{},chunkName:()=>"client-components-dashboard-JobPost",isReady(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!r.m[t]},importAsync:()=>Promise.all([r.e(0),r.e(1),r.e(6)]).then(r.bind(null,20)),requireAsync(e){var t=this,r=this.resolve(e);return this.resolved[r]=!1,this.importAsync(e).then((function(e){return t.resolved[r]=!0,e}))},requireSync(e){var t=this.resolve(e);return r(t)},resolve(){return 20}})},p={path:"/dashboard/company/:company/postings",exact:!0,strict:!1,component:o()({resolved:{},chunkName:()=>"client-components-dashboard-postings-JobPostings",isReady(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!r.m[t]},importAsync:()=>Promise.all([r.e(0),r.e(1),r.e(8)]).then(r.bind(null,34)),requireAsync(e){var t=this,r=this.resolve(e);return this.resolved[r]=!1,this.importAsync(e).then((function(e){return t.resolved[r]=!0,e}))},requireSync(e){var t=this.resolve(e);return r(t)},resolve(){return 34}})},d={path:"/dashboard/company/:company/postings/jobpost/:id",exact:!1,strict:!1,component:o()({resolved:{},chunkName:()=>"client-components-dashboard-JobPost",isReady(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!r.m[t]},importAsync:()=>Promise.all([r.e(0),r.e(1),r.e(6)]).then(r.bind(null,20)),requireAsync(e){var t=this,r=this.resolve(e);return this.resolved[r]=!1,this.importAsync(e).then((function(e){return t.resolved[r]=!0,e}))},requireSync(e){var t=this.resolve(e);return r(t)},resolve(){return 20}})},m={path:"/register",exact:!0,strict:!1,component:o()({resolved:{},chunkName:()=>"components-register-Register",isReady(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!r.m[t]},importAsync:()=>Promise.all([r.e(0),r.e(3),r.e(14)]).then(r.bind(null,36)),requireAsync(e){var t=this,r=this.resolve(e);return this.resolved[r]=!1,this.importAsync(e).then((function(e){return t.resolved[r]=!0,e}))},requireSync(e){var t=this.resolve(e);return r(t)},resolve(){return 36}})},y={path:"/welcome",exact:!0,strict:!1,component:o()({resolved:{},chunkName:()=>"components-Welcome",isReady(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!r.m[t]},importAsync:()=>Promise.all([r.e(3),r.e(12)]).then(r.bind(null,35)),requireAsync(e){var t=this,r=this.resolve(e);return this.resolved[r]=!1,this.importAsync(e).then((function(e){return t.resolved[r]=!0,e}))},requireSync(e){var t=this.resolve(e);return r(t)},resolve(){return 35}})},h={path:"/login",exact:!0,strict:!1,component:o()({resolved:{},chunkName:()=>"components-login-Login",isReady(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!r.m[t]},importAsync:()=>Promise.all([r.e(0),r.e(13)]).then(r.bind(null,40)),requireAsync(e){var t=this,r=this.resolve(e);return this.resolved[r]=!1,this.importAsync(e).then((function(e){return t.resolved[r]=!0,e}))},requireSync(e){var t=this.resolve(e);return r(t)},resolve(){return 40}})},f={}},function(e,t){e.exports=require("axios")},function(e,t){e.exports=require("libphonenumber-js")},function(e,t){e.exports=require("prop-types")},,,function(e,t){e.exports=require("express-session")},function(e,t){e.exports=require("passport-local")},function(e,t,r){"use strict";var n=r(0);const o=Object(n.createContext)();t.a=o},function(e,t,r){"use strict";var n=r(0);const o=Object(n.createContext)();t.a=o},function(e,t,r){"use strict";var n=r(0);const o=Object(n.createContext)();t.a=o},function(e,t){e.exports=require("morgan")},function(e,t){e.exports=require("cors")},function(e,t){e.exports=require("helmet")},function(e,t){e.exports=require("cookie-parser")},function(e,t){e.exports=require("redis")},function(e,t){e.exports=require("connect-redis")},function(e,t){e.exports=require("uuid")},function(e,t){e.exports=require("serialize-javascript")},,,,,,,,function(e,t){e.exports=require("regenerator-runtime/runtime.js")},function(e,t,r){"use strict";r.r(t);var n=r(7),o=r.n(n),a=r(10),s=r.n(a),i=r(26),c=r.n(i),l=r(27),u=r.n(l),p=r(28),d=r.n(p),m=r(29),y=r.n(m),h=r(30),f=r.n(h),g=r(21),b=r.n(g),v=r(31),O=r.n(v),j=r(3),w=r.n(j),S=r(14),N=r.n(S),E=(r(41),r(22));process.env.ENV;const A=process.env.SERVER_PORT||8080,X=process.env,x=X.REDIS_PORT,T=void 0===x?6379:x,P=X.REDIS_HOST,q={port:+T,host:void 0===P?"cache":P};var C=r(11),k=r.n(C),I=r(32);const R=process.env,D=R.SESSION_NAME,_=void 0===D?"Session":D,L=R.SESSION_IDLE_TIMEOUT,U=void 0===L?18e5:L,M={name:_,genid:function(e){return Object(I.v4)()},secret:k.a.hashSync(k.a.genSaltSync(),10),resave:!1,saveUninitialized:!1,rolling:!0,proxy:!1,cookie:{sameSite:!0,httpOnly:!0,maxAge:+U,secure:!0}};let z,H;const $=process.env,F=$.MONGODB_ADMINUSER,G=void 0===F?"useromi":F,W=$.MONGODB_ADMINPASS,V=void 0===W?"omipublic123":W,B=$.MONGODB_DB,K=void 0===B?"blubelt":B,Y=$.MONGODB_AUTHSOURCE;z={user:G,pass:V,dbName:K,authSource:void 0===Y?"blubelt":Y,useNewUrlParser:!0,autoIndex:!1,useUnifiedTopology:!0},H="mongodb://db:27017/blubelt";const Z={usernameField:"email",passwordField:"password"};var J=r(0),Q=r.n(J),ee=r(12),te=r(2),re=r(4),ne=r(5),oe=r(6),ae=r(8),se=r.n(ae),ie=r(9),ce=r.n(ie),le=r(18),ue=r.n(le),pe=r(24);function de(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function me(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?de(Object(r),!0).forEach((function(t){ye(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):de(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ye(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var he=(e,t)=>{switch(t.type){case"AUTH_ACCOUNT":return me(me(me({},e),t.payload),{},{menuChoice:"company"===t.payload.role?"postings":"jobs"});case"HANDLE_CHOICE":return me(me({},e),{},{menuChoice:t.payload.toLowerCase()});case"GENERAL_ERROR":default:return e}},fe=r(16),ge=r.n(fe);function be(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,a=void 0;try{for(var s,i=e[Symbol.iterator]();!(n=(s=i.next()).done)&&(r.push(s.value),!t||r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{n||null==i.return||i.return()}finally{if(o)throw a}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ve(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ve(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ve(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Oe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function je(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(r),!0).forEach((function(t){we(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Oe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function we(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Se=({children:e,context:t})=>{let r;t&&(Object.prototype.hasOwnProperty.call(t,"search")&&(r=je({},t.search)),Object.prototype.hasOwnProperty.call(t,"id")&&(l=t.id));const n=be(Object(J.useReducer)(he,{authenticated:!1,role:"guest",search:r,menuChoice:"",params:void 0}),2),o=n[0],a=n[1],s=o.authenticated,i=o.role,c=o.search,l=o.params,u=o.menuChoice;return Q.a.createElement(pe.a.Provider,{value:{authenticated:s,role:i,authAccount:()=>{ge()("/dashboard/auth",{method:"get",baseURL:"http://localhost:8080/",headers:{"Content-Type":"application/json"},responseType:"json"}).then(e=>e.data).then(e=>a({type:"AUTH_ACCOUNT",payload:je({},e)}))},search:c,params:l,menuChoice:u,handleChoice:e=>a({type:"HANDLE_CHOICE",payload:e})}},e)};Se.propTypes={children:ue.a.node};var Ne=Se,Ee=r(15);function Ae(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Xe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ae(Object(r),!0).forEach((function(t){xe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ae(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function xe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Te=[Xe({},Ee.b),Xe({},Ee.j),Xe({},Ee.a),Xe({},Ee.h),Xe({},Ee.i),Xe({},Ee.e),Xe({},Ee.d),Xe({},Ee.c),Xe({},Ee.g),Xe({},Ee.f)];function Pe(){return Q.a.createElement("div",null,"Four Oh Four")}function qe(){return(qe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Ce(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var ke=()=>Q.a.createElement(Q.a.Fragment,null,Q.a.createElement(ne.Helmet,null,Q.a.createElement("html",{lang:"en"}),Q.a.createElement("meta",{charset:"UTF-8"}),Q.a.createElement("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),Q.a.createElement("title",null,"Blubelt - Professional digital network for blue collar workers"),Q.a.createElement("link",{href:"https://fonts.googleapis.com/css2?family=DM+Sans:wght@500&family=MuseoModerno:wght@900&family=Roboto&display=swap",rel:"stylesheet"}),Q.a.createElement("link",{rel:"stylesheet",href:"https://use.fontawesome.com/releases/v5.13.1/css/all.css"})),Q.a.createElement(re.Switch,null,Te.map(e=>{let t=e.path,r=e.exact,n=e.component,o=Ce(e,["path","exact","component"]);return Q.a.createElement(re.Route,{key:t,path:t,exact:r,render:e=>Q.a.createElement(n,qe({},e,o))})}),Q.a.createElement(re.Route,{render:e=>Q.a.createElement(Pe,e)}))),Ie=r(33),Re=r.n(Ie);var De=({html:e,helmet:t,ids:r,css:n,context:o,scriptTags:a,linkTags:s})=>`\n  <!DOCTYPE html>\n  <html ${t.htmlAttributes.toString()}>\n  <head>\n    ${s}\n    ${t.title.toString()}\n    ${t.meta.toString()}\n    ${t.link.toString()}\n    <script>\n      window.__INIT_DATA__=${Re()(o)}\n    <\/script>\n    <style data-emotion-css="${r.join(" ")}">${n}</style>\n  </head>\n  <body ${t.bodyAttributes.toString()}>\n    <div id="root">${e}</div>\n    ${a}\n  </body>\n  </html>\n`,_e=r(23);function Le(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ue(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Le(Object(r),!0).forEach((function(t){Me(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Le(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Me(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ze=(e,t)=>{switch(t.type){case"CONTINUE_REGISTER":return Ue(Ue({},e),t.payload);case"HANDLE_SELECTION":return Ue(Ue({},e),{},{select:t.payload});case"NEXT_SECTION":return Ue(Ue({},e),{},{index:e.index+1});case"VERIFY":return Ue(Ue({},e),{},{verify:!e.verify});case"SUCCESS":return Ue(Ue({},e),{},{success:!e.success});default:return e}};function He(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $e(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?He(Object(r),!0).forEach((function(t){Fe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):He(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Fe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ge(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,a=void 0;try{for(var s,i=e[Symbol.iterator]();!(n=(s=i.next()).done)&&(r.push(s.value),!t||r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{n||null==i.return||i.return()}finally{if(o)throw a}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return We(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return We(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function We(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ve=({children:e})=>{const t=Ge(Object(J.useReducer)(ze,{name:"",fName:"",lName:"",username:"",email:"",confirmEmail:"",password:"",confirmPass:"",phone:"",career:"",education:"NA",experience:"",educated:!1,choice:"",location:"",delivery:"",province:"",city:"",aptSuite:"",floor:"",zipCode:"XXXXX",postalCode:"XXXXX-XXXX",country:"US",dob:"",sex:"",gender:"",prefName:"",index:0,verify:!1,trigger:!1,success:!1,select:"",choices:["Word of mouth","Internet Search","Social Media","Friend","Other"],sections:[["Great! Let us start with filling out the following information.",1],["We are making progress! Please fill out your address below.",2],["Almost there to get you started...",3],["We're at the finish line.",4]],provinces:[["Alabama","AL"],["Alaska","AK"],["Arizona","AZ"],["Arkansas","AR"],["California","CA"],["Colorado","CO"],["Connecticut","CT"],["Delaware","DE"],["Florida","FL"],["Georgia","GA"],["Hawaii","HI"],["Idaho","ID"],["Illinois","IL"],["Indiana","IN"],["Iowa","IA"],["Kansas","KS"],["Kentucky","KY"],["Louisiana","LA"],["Maine","ME"],["Maryland","MD"],["Massachusetts","MA"],["Michigan","MI"],["Minnesota","MN"],["Mississippi","MS"],["Missouri","MO"],["Montana","MT"],["Nebraska","NE"],["Nevada","NV"],["New Hampshire","NH"],["New Jersey","NJ"],["New Mexico","NM"],["New York","NY"],["North Carolina","NC"],["North Dakota","ND"],["Ohio","OH"],["Oklahoma","OK"],["Oregon","OR"],["Pennsylvania","PA"],["Rhode Island","RI"],["South Carolina","SC"],["South Dakota","SD"],["Tennessee","TN"],["Texas","TX"],["Utah","UT"],["Vermont","VT"],["Virginia","VA"],["Washington","WA"],["West Virgina","WV"],["Wisconsin","WI"],["Wyoming","WY"]]}),2),r=t[0],n=t[1],o=r.name,a=r.fName,s=r.lName,i=r.username,c=r.email,l=r.confirmEmail,u=r.password,p=r.confirmPass,d=r.phone,m=r.career,y=r.education,h=r.experience,f=r.employed,g=r.choice,b=r.province,v=r.city,O=r.delivery,j=r.location,w=r.zipCode,S=r.postalCode,N=r.floor,E=r.aptSuite,A=r.country,X=r.dob,x=r.sex,T=r.gender,P=r.prefName,q=r.index,C=r.trigger,k=r.verify,I=r.success,R=r.select,D=r.choices,_=r.provinces,L=r.sections;return Q.a.createElement(_e.a.Provider,{value:{name:o,fName:a,lName:s,username:i,email:c,confirmEmail:l,password:u,confirmPass:p,phone:d,career:m,education:y,experience:h,employed:f,choice:g,province:b,city:v,delivery:O,zipCode:w,postalCode:S,aptSuite:E,floor:N,country:A,dob:X,sex:x,gender:T,prefName:P,index:q,trigger:C,verify:k,success:I,select:R,choices:D,provinces:_,sections:L,continueRegister:e=>{n({type:"CONTINUE_REGISTER",payload:$e({},e)}),n({type:"NEXT_SECTION"})},registerWorker:()=>{console.log(r),ge.a.request("/register/worker",{method:"post",baseURL:"https://blubelt.com/",data:{username:i,email:c,confirmEmail:l,password:u,confirmPass:p,phone:d,fName:a,lName:s,career:m,education:y,experience:h,employed:f,delivery:O,city:v,aptSuite:E,zipCode:w,postalCode:S,province:b,country:A,dob:X,sex:x,gender:T,prefName:P,choice:g,select:R},responseType:"json"}).then(e=>e.data).then(e=>{n({type:"SUCCESS"})}).catch(e=>{console.error(e)})},registerCompany:()=>{ge.a.request("/register/company",{method:"post",baseURL:"https://blubelt.com/",data:{username:i,email:c,confirmEmail:l,password:u,confirmPass:p,phone:d,name:o,location:j,floor:N,city:v,province:b,country:A,zipCode:w,postalCode:S,choice:g,select:R},responseType:"json"}).then(e=>e.data).then(e=>{n({type:"SUCCESS"})}).catch(e=>{console.error(e)})},registerVerify:e=>{n({type:"CONTINUE_REGISTER",payload:$e({},e)}),n({type:"VERIFY"})},handleSelection:e=>{n({type:"HANDLE_SELECTION",payload:e})},dispatch:n}},e)},Be=r(25);function Ke(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ye(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ke(Object(r),!0).forEach((function(t){Ze(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ke(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ze(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Je=(e,t)=>{switch(t.type){case"GET_ACC_DETAILS":case"GET_USERNAME":return Ye(Ye(Ye({},e),t.payload),{},{init:!1});case"END_INIT":return Ye(Ye({},e),{},{init:!1});case"GENERAL_ERROR":default:return e}};function Qe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function et(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Qe(Object(r),!0).forEach((function(t){tt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function tt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,a=void 0;try{for(var s,i=e[Symbol.iterator]();!(n=(s=i.next()).done)&&(r.push(s.value),!t||r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{n||null==i.return||i.return()}finally{if(o)throw a}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return nt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const ot=({children:e})=>{const t=rt(Object(J.useReducer)(Je,{role:"",username:"",email:"",phone:"",fName:"",lName:"",companyName:"",city:"",province:"",career:"",experience:"",education:"",employed:!1,badges:[],init:!0}),2),r=t[0],n=t[1],o=r.role,a=r.username,s=r.email,i=r.fName,c=r.lName,l=r.companyName,u=r.city,p=r.province,d=r.career,m=r.experience,y=r.education,h=r.employed,f=r.init;return Q.a.createElement(Be.a.Provider,{value:{role:o,username:a,email:s,city:u,province:p,fName:i,lName:c,companyName:l,career:d,experience:m,education:y,employed:h,init:f,getWorkerDetails:()=>{ge.a.request("/dashboard/acc",{method:"get",headers:{"Content-Type":"application/json"},responseType:"json"}).then(e=>e.data).then(e=>{n({type:"GET_ACC_DETAILS",payload:et({},e)})}).catch(e=>n({type:"GENERAL_ERROR"})),n({type:"GET_ACC_DETAILS"})},getCompanyDetails:()=>{ge()({method:"get",url:"/dashboard/acc",baseURL:"https://blubelt.com/",headers:{"Content-Type":"application/json"},responseType:"json"}).then(e=>e.data).then(e=>{n({type:"GET_ACC_DETAILS",payload:et({},e)})}).catch(e=>n({type:"GENERAL_ERROR"}))},getUsername:()=>{ge()({method:"get",url:"/dashboard/acc/username",baseURL:"https://blubelt.com/",headers:{"Content-Type":"application/json"},responseType:"json"}).then(e=>e.data).then(e=>n({type:"GET_USERNAME",payload:et({},e)})).catch(e=>n({type:"GENERAL_ERROR"}))},endInit:()=>n({type:"END_INIT"})}},e)};ot.propTypes={children:ue.a.node};var at=ot;const st=(e,t,r)=>{try{const r=ce()(),o=n.resolve("../app/build/web/loadable-stats.json"),a=new ee.ChunkExtractor({statsFile:o}),s=Q.a.createElement(oe.CacheProvider,{value:r},Q.a.createElement(Ne,null,Q.a.createElement(Ve,null,Q.a.createElement(at,null,Q.a.createElement(re.StaticRouter,{location:e.originalUrl},Q.a.createElement(ke,null)))))),i=a.collectChunks(s),c=se()(r).extractCritical,l=Object(te.renderToString)(i);let u=c(Object(te.renderToString)(s)),p=u.css,d=u.ids;const m=a.getLinkTags(),y=a.getScriptTags(),h=ne.Helmet.renderStatic();return t.status(200).send(De({html:l,helmet:h,ids:d,css:p,scriptTags:y,linkTags:m}))}catch(e){return r(e)}};const it=new j.Schema({delivery:{type:String,required:!0},province:{type:String,required:!0,uppercase:!0,maxlength:2,minlength:2},city:{type:String,required:!0,minlength:1},aptSuite:{type:String,default:"NA"},zipCode:{type:String,minlength:5,maxLength:5,default:"XXXXX"},country:{type:String,required:!0,uppercase:!0,maxlength:2,minlength:2,default:"US"},postalCode:{type:String,maxLength:10,minlength:10,default:"XXXXX-XXXX"}});var ct=new j.Schema({firstName:{type:String,required:!0},lastName:{type:String,required:!0},dob:{type:String,requied:!0},sex:{type:String,required:!0},gender:{type:String,default:"NA"},prefName:{type:String,default:"NA"},choice:{type:String,default:"NA"},address:it});var lt=new j.Schema({career:{type:String,required:!0,default:"NA"},education:{type:String,required:!0,default:"NA"},experience:{type:String,required:!0,default:"NA"},employed:{type:Boolean,required:!0,default:!1}});const ut=new j.Schema({username:{type:String,required:!0,unique:!0,trim:!0,minlength:3},password:{type:String,required:!0,trim:!0,minlength:8},email:{type:String,required:!0,lowercase:!0,unique:!0,trim:!0},phone:{type:String,required:!0,unique:!0,trim:!0},role:{type:String,default:"worker",required:!0,unique:!0},authenticated:{type:Boolean,default:!0},active:{type:Boolean,default:!1},person:ct,profession:lt}),pt=Object(j.model)("worker",ut),dt=new j.Schema({location:{type:String,required:!0},province:{type:String,required:!0,uppercase:!0,maxlength:2,minlength:2},city:{type:String,required:!0,minlength:1},zipCode:{type:String,minlength:5,maxLength:5,default:"XXXXX"},floor:{type:String,default:"NA"},country:{type:String,required:!0,uppercase:!0,maxlength:2,minlength:2,default:"US"},postalCode:{type:String,maxLength:10,minlength:10,default:"XXXXX-XXXX"}});var mt=new j.Schema({name:{type:String,required:!0},choice:{type:String,default:"NA"},address:dt});const yt=new j.Schema({username:{type:String,required:!0},password:{type:String,required:!0},email:{type:String,required:!0},phone:{type:String,required:!0},authenticated:{type:Boolean,default:!0},active:{type:Boolean,default:!1},role:{type:String,required:!0,default:"company"},details:mt}),ht=Object(j.model)("company",yt),ft=(e,t,r)=>{try{const r=n.resolve("../app/build/web/loadable-stats.json"),o=new ee.ChunkExtractor({statsFile:r}),a=ce()(),s=se()(a).extractCritical,i=Q.a.createElement(oe.CacheProvider,{value:a},Q.a.createElement(Ne,null,Q.a.createElement(Ve,null,Q.a.createElement(re.StaticRouter,{location:e.originalUrl},Q.a.createElement(ke,null))))),c=o.collectChunks(i),l=Object(te.renderToString)(c);let u=s(Object(te.renderToString)(i)),p=u.css,d=u.ids;const m=o.getLinkTags(),y=o.getScriptTags(),h=ne.Helmet.renderStatic();return t.status(200).send(De({html:l,helmet:h,ids:d,css:p,scriptTags:y,linkTags:m}))}catch(e){return r(e)}};var gt=r(17);const bt=new j.Schema({company:{type:j.Schema.Types.ObjectId,required:!0,ref:"company"},companyName:{type:String,required:!0},title:{type:String,required:!0},body:{type:String,required:!0},location:{type:String,required:!0},jobType:{type:String},salary:{type:String}},{timestamps:!0}),vt=Object(j.model)("jobpost",bt);function Ot(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function jt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const wt=async(e,t,r)=>{try{let r=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ot(Object(r),!0).forEach((function(t){jt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ot(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e.query);const o=ce()(),a=se()(o).extractCritical,s=n.resolve("../app/build/web/loadable-stats.json"),i=new ee.ChunkExtractor({statsFile:s}),c=Object(te.renderToString)(Q.a.createElement(oe.CacheProvider,{value:o},Q.a.createElement(Ne,null,Q.a.createElement(Ve,null,Q.a.createElement(at,null,Q.a.createElement(re.StaticRouter,{location:e.originalUrl},Q.a.createElement(ke,null))))))),l=i.collectChunks(c),u=Object(te.renderToString)(l);let p=i.getScriptTags(),d=i.getLinkTags(),m=a(Object(te.renderToString)(c)),y=m.css,h=m.ids;const f=ne.Helmet.renderStatic();return t.status(200).send(De({html:u,helmet:f,css:y,context:r,ids:h,scriptTags:p,linkTags:d}))}catch(e){return r(e)}},St=(e,t,r)=>{try{console.log(e.params);const r=ce()(),o=n.resolve("../app/build/web/loadable-stats.json"),a=new ee.ChunkExtractor({statsFile:o}),s=Q.a.createElement(oe.CacheProvider,{value:r},Q.a.createElement(Ne,null,Q.a.createElement(Ve,null,Q.a.createElement(at,null,Q.a.createElement(re.StaticRouter,{location:e.originalUrl},Q.a.createElement(ke,null)))))),i=a.collectChunks(s),c=Object(te.renderToString)(i),l=se()(r);let u=(0,l.extractCritical)(Object(te.renderToString)(s)),p=u.css,d=u.ids;const m=a.getScriptTags(),y=a.getLinkTags(),h=ne.Helmet.renderStatic();return t.status(200).send(De({html:c,css:p,ids:d,helmet:h,scriptTags:m,linkTags:y}))}catch(e){return r(e)}};const Nt=async(e,t,r)=>{try{if(console.log("there"),"worker"===e.body.select){const r=await pt.findOne({email:e.body.email}).select("email").sort("email").lean().exec();if(r&&e.body.email.toLowerCase()===r.email)return t.status(400).send("This email is already in use.")}else{const r=await ht.findOne({email:e.body.email}).select("email").sort("email").lean().exec();if(r&&e.body.email.toLowerCase()===r.email)return t.status(400).send("This email is already in use.")}return r()}catch(e){return r(e)}},Et=async(e,t,r)=>{try{if("worker"===e.body.select){const n=Object(gt.parsePhoneNumberFromString)(e.body.phone,"US"),o=await pt.findOne({phone:n.format("NATIONAL")}).select("phone").sort("phone").lean().exec();return o&&n.format("NATIONAL")===o.phone?t.status(400).send("This phone number is already in use."):r()}{const n=Object(gt.parsePhoneNumberFromString)(e.body.phone,"US"),o=await ht.findOne({phone:n.format("NATIONAL")}).select("phone").sort("phone").lean().exec();return o&&n.format("NATIONAL")===o.phone?t.status(400).send("This phone number is already in use."):(console.log("yes"),r())}}catch(e){return r(e)}},At=async(e,t,r)=>{try{if("worker"===e.body.select){const n=await pt.findOne({username:e.body.username}).select("username").sort("username").lean().exec();return n&&e.body.username===n.username?t.status(400).send("This username is already in use."):r()}{const n=await ht.findOne({username:e.body.username}).select("username").sort("username").lean().exec();return n&&e.body.username===n.username?t.status(400).send("This username is already in use."):r()}}catch(e){return r(e)}};var Xt=r(1),xt=r.n(Xt);const Tt=function(e){return e.length<3?"Username is too short.":/\s/.test(e)?"Username can't have white spaces.":!!/[A-Za-z0-9._]/.test(e)||"Username has invalid characters. Only '.' and '_' are valid."},Pt=function(e,t){return e.length!==t.length?"Passwords do not match.":e!==t?"The passwords do not match.":e.length<8?"Password is too short.":/\s/.test(e)?"Password can't have white spaces.":/[A-Z]/.test(e)?/[a-z]/.test(e)?!!/[!@%+#$')(}{?~^,:_.\-]/.test(e)||"At least one special character.":"At least one lowercase letter.":"At least one uppercase letter."},qt=(e,t)=>e.length!==t.length||e!==t?"The emails do not match.":!!/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/.test(e)||"The email is invalid.",Ct=function(e){try{return!!Object(gt.parsePhoneNumberFromString)(e,"US").isValid()||"Phone number is not valid."}catch(e){return!1}},kt=function(e){return e.length<2?"The name is too short.":/\s/.test(e)?"The name is invalid.":!!/^[A-Z][a-z]*$/.test(e)||"The name is invalid."},It=function(e){return 2!==e.length?"This state is invalid.":!!/AL|AK|AZ|AR|CA|CO|CT|DE|FL|GA|HI|ID|IL|IN|IA|KS|KY|LA|ME|MD|MA|MI|MN|MS|MO|MT|NE|NV|NH|NJ|NM|NY|NC|ND|OH|OK|OR|PA|RI|SC|SD|TN|TX|UT|VT|VA|WA|WV|WI|WY/.test(e)||"That state does not exist."},Rt=function(e){return e.length<1?"Please enter the city.":!!/[a-zA-Z0-9]+(?:[ '-][a-zA-Z0-9]+)*/.test(e)||"City name is invalid."},Dt=function(e){return 5!==e.length?"This zipcode is invalid.":!Number.isNaN(parseInt(e))||"This zipcode is invalid."},_t=function(e){if(10!==e.length)return"The postal code is invalid.";if(!/\-/.test(e))return"The postal code is invalid.";const t=e.split("-");return 5!==t[0].length?"The postal code is invalid.":4!==t[1].length?"The postal code is invald.":Number.isNaN(parseInt(t[0]))?"The postal code is invalid.":!Number.isNaN(parseInt(t[1]))||"The postal code is invalid."},Lt=(e,t,r)=>e.user?r():t.status(401).send("Not authorized."),Ut=async(e,t,r)=>{try{const o=xt.a.object({email:xt.a.string().trim().required(),password:xt.a.string().trim().min(8).required()});await o.validateAsync(e.body);const a=e.body,s=a.email,i=a.password,c=(n=i).length<8?"Password is too short.":/\s/.test(n)?"Password can't have white spaces.":/[A-Z]/.test(n)?/[a-z]/.test(n)?!!/[!@%+#$')(}{?~^,:_.\-]/.test(n)||"At least one special character.":"At least one lowercase letter.":"At least one uppercase letter.",l=function(e){return!!/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/.test(e)}(s);return"string"==typeof c?t.status(400).json({msg:c}):"string"==typeof l?t.status(400).json({msg:l}):r()}catch(e){return r(e)}var n},Mt=(e,t,r)=>{if(e.session.passport){if(e.session.passport.user){if("worker"===e.user.role)return t.redirect("/dashboard/worker");if("company"===e.user.role)return t.redirect("/dashboard/company")}return r()}return r()},zt=(e,t,r)=>e.user?r():t.redirect("/login"),Ht=(e,t,r)=>{try{return"company"===e.user.role&&t.redirect(401,"/dashboard/company"+e.user.username),r()}catch(e){return r(e)}},$t=(e,t,r)=>{try{return"worker"===e.user.role?t.redirect(401,"/dashboard/worker"+e.user.username):r()}catch(e){return r(e)}},Ft=s.a.Router();Ft.get("/",[Mt],ft),Ft.post("/worker",[Mt,async(e,t,r)=>{try{const o=xt.a.object({username:xt.a.string().trim().min(3).max(120).required(),password:xt.a.string().trim().min(8).required(),confirmPass:xt.a.string().trim().min(8).required(),email:xt.a.string().trim().required(),confirmEmail:xt.a.string().trim().required(),phone:xt.a.string().trim().min(12).required(),fName:xt.a.string().trim().min(2).required(),lName:xt.a.string().trim().min(2).required(),dob:xt.a.string().trim().required(),sex:xt.a.string().required(),gender:xt.a.string().trim().empty("").default("NA"),prefName:xt.a.string().trim().empty("").default("NA"),delivery:xt.a.string().trim().min(1).required(),province:xt.a.string().trim().uppercase().min(2).max(2).required(),country:xt.a.string().trim().min(2).max(2).uppercase().required(),city:xt.a.string().trim().allow(""),aptSuite:xt.a.string().trim().empty("").default("NA"),zipCode:xt.a.string().trim().allow("XXXXX").default("XXXXX").min(5).max(5),postalCode:xt.a.string().trim().allow("XXXXX-XXXX").default("XXXXX-XXXX").min(10).max(10),career:xt.a.string().allow(""),education:xt.a.string().required(),experience:xt.a.string().required(),employed:xt.a.boolean().required(),choice:xt.a.string().allow(""),select:xt.a.string().required()});await o.validateAsync(e.body);const a=e.body,s=a.username,i=a.password,c=a.confirmPass,l=a.email,u=a.confirmEmail,p=a.fName,d=a.lName,m=a.phone,y=a.dob,h=a.sex,f=a.province,g=a.city,b=a.zipCode,v=a.postalCode,O=a.employed,j=Tt(s),w=Pt(i,c),S=qt(l,u),N=Ct(m),E=kt(p),A=kt(d),X=function(e){const t=/^0/gi,r=/0/gi,n=/\-/gi,o=e.split("-");for(let e=0;e<o.length;e++){let a,s;if(n.test(o[e]))return 0===e?"The month is invalid.":1===e?"The day is invalid.":" The year is invalid.";if(r.test(o[e])&&2===o[e].length)a=o[e].replace(r,""),s=parseInt(a);else{if(t.test(o[e]))return"The year you placed is invalid.";s=parseInt(o[e])}if(Number.isNaN(s))return"The date of birth is invalid.";if(0===e){if(s<0||s>12)return"Choose between 0-12 (JAN-DEC)."}else if(1===e){let e=o[0].replace(r,"");if(e=parseInt(e),4===e||6===e||9===e||11===e){if(s<0||s>30)return"Invalid day."}else if(2===e){if(s<0||s>28)return"Invalid day."}else if(s<0||s>31)return"Invalid day."}else if(2===e){let e=new Date;if(e=e.getFullYear(),e-s>100)return"Invalid year."}}return!0}(y),x=It(f),T="boolean"==typeof O||"Invalid value",P=0===(n=h).length?"Please choose a sex.":!!/[male|female]/.test(n)||"Please choose a sex.",q=Rt(g);let C,k;return"XXXXX"!==b&&(C=Dt(b)),"XXXXX-XXXX"!==v&&(k=_t(v)),"string"==typeof j?t.status(400).json({msg:j}):"string"==typeof w||"string"==typeof S?t.status(400).json({msg:w}):"string"==typeof N?t.status(400).json({msg:N}):"string"==typeof E?t.status(400).json({msg:E}):"string"==typeof A?t.status(400).json({msg:A}):"string"==typeof X?t.status(400).json({msg:X}):"string"==typeof P?t.status(400).json({msg:P}):"string"==typeof x?t.status(400).json({msg:x}):"string"==typeof q?t.status(400).json({msg:q}):"string"==typeof C?t.status(400).json({msg:C}):"string"==typeof k?t.status(400).json({msg:k}):"string"==typeof T?t.status(400).json({msg:T}):r()}catch(e){return console.error(e),t.status(400).send("Please make sure information is set correctly.")}var n},Nt,At,Et],async(e,t,r)=>{try{const n=e.body,o=n.username,a=n.password,s=n.email,i=n.fName,c=n.lName,l=n.phone,u=n.dob,p=n.sex,d=n.gender,m=n.prefName,y=n.delivery,h=n.province,f=n.city,g=n.aptSuite,b=n.zipCode,v=n.postalCode,O=n.country,j=n.career,w=n.experience,S=n.education,N=n.employed,E=n.choice;console.log(e.body);const A=Object(gt.parsePhoneNumberFromString)(l,"US"),X=await k.a.genSalt(12),x=await k.a.hash(a,X);new pt({username:o,password:x,email:s.toLowerCase(),phone:A.format("NATIONAL"),person:{firstName:i,lastName:c,dob:u,sex:p,gender:d,prefName:m,choice:E||"NA",address:{delivery:y,province:h,city:f,aptSuite:""===g?g:"NA",zipCode:b||"XXXXX",postalCode:v||"XXXXX-XXXX",country:O}},profession:{career:j,experience:w,education:S,employed:N}}).save((e,n)=>e?r(e):t.status(200).json({msg:"OK"}))}catch(e){return r(e)}}),Ft.post("/company",[Mt,async(e,t,r)=>{try{const o=xt.a.object({username:xt.a.string().trim().min(3).max(120).required(),password:xt.a.string().trim().min(8).required(),confirmPass:xt.a.string().trim().min(8).required(),email:xt.a.string().trim().required(),confirmEmail:xt.a.string().trim().required(),phone:xt.a.string().trim().min(12).required(),name:xt.a.string().trim().min(2).required(),location:xt.a.string().trim().min(1).required(),province:xt.a.string().trim().uppercase().min(2).max(2).required(),country:xt.a.string().trim().min(2).max(2).uppercase().required(),city:xt.a.string().trim().allow(""),floor:xt.a.string().trim().empty("").default("NA"),zipCode:xt.a.string().trim().allow("XXXXX").default("XXXXX").min(5).max(5),postalCode:xt.a.string().trim().allow("XXXXX-XXXX").default("XXXXX-XXXX").min(10).max(10),choice:xt.a.string().allow(""),select:xt.a.string().required()});await o.validateAsync(e.body);const a=e.body,s=a.username,i=a.email,c=a.confirmEmail,l=a.password,u=a.confirmPass,p=a.phone,d=a.name,m=a.city,y=a.province,h=a.zipCode,f=a.postalCode,g=Tt(s),b=Pt(l,u),v=qt(i,c),O=Ct(p),j=(n=d).length<2?"The name is too short.":!!/^[A-Z][A-Za-z\s]*$/.test(n)||"The name is invalid.",w=It(y),S=Rt(m);let N,E;return"XXXXX"!==h&&(N=Dt(h)),"XXXXX-XXXX"!==f&&(E=_t(f)),"string"==typeof g?t.status(400).json({msg:g}):"string"==typeof b||"string"==typeof v?t.status(400).json({msg:b}):"string"==typeof O?t.status(400).json({msg:O}):"string"==typeof j?t.status(400).json({msg:j}):"string"==typeof w?t.status(400).json({msg:w}):"string"==typeof S?t.status(400).json({msg:S}):"string"==typeof N?t.status(400).json({msg:N}):"string"==typeof E?t.status(400).json({msg:E}):r()}catch(e){return console.error(e),t.status(400).send("Please make sure information is set correctly.")}var n},Nt,At,Et],async(e,t,r)=>{try{const n=e.body,o=n.username,a=n.password,s=n.email,i=n.phone,c=n.name,l=n.location,u=n.city,p=n.floor,d=n.zipCode,m=n.province,y=n.postalCode,h=n.country,f=n.choice;console.log(e.body);const g=Object(gt.parsePhoneNumberFromString)(i,"US"),b=await k.a.genSalt(12),v=await k.a.hash(a,b);new ht({username:o,password:v,email:s.toLowerCase(),phone:g.format("NATIONAL"),details:{name:c,choice:f,address:{location:l,city:u,floor:""===p?"NA":p,zipCode:""===d?d:"XXXXX",postalCode:y||"XXXXX-XXXX",province:m,country:h}}}).save((e,n)=>e?r(e):t.status(200).json({msg:"OK"}))}catch(e){return r(e)}});var Gt=Ft;const Wt=Object(a.Router)();Wt.get("/",[Mt],st),Wt.post("/worker",[Ut],(e,t,r)=>{try{N.a.authenticate("worker",(function(n,o,a){return n?r(n):o?void e.login(o,(function(e){return e?r(e):t.status(200).json({username:o.username})})):t.status(400).send("Incorrect credentials.")}))(e,t,r)}catch(e){return r(e)}}),Wt.post("/company",[Ut],(e,t,r)=>{try{N.a.authenticate("company",(function(n,o,a){return n?r(n):o?void e.login(o,(function(e){return e?r(e):t.status(200).json({username:o.username})})):t.status(400).send("Incorrect credentials.")}))(e,t,r)}catch(e){return r(e)}});var Vt=Wt;const Bt=s.a.Router();Bt.get("/worker/:worker",[zt,Ht],(e,t,r)=>{try{console.log(e.user);const r=ce()(),o=n.resolve("../app/build/web/loadable-stats.json"),a=new ee.ChunkExtractor({statsFile:o}),s={},i=se()(r).extractCritical,c=Q.a.createElement(oe.CacheProvider,{value:r},Q.a.createElement(Ne,null,Q.a.createElement(Ve,null,Q.a.createElement(at,null,Q.a.createElement(re.StaticRouter,{location:e.originalUrl},Q.a.createElement(ke,null)))))),l=a.collectChunks(c),u=Object(te.renderToString)(l);let p=i(Object(te.renderToString)(c)),d=p.css,m=p.ids;const y=a.getLinkTags(),h=a.getScriptTags(),f=ne.Helmet.renderStatic();return t.status(200).send(De({html:u,helmet:f,css:d,ids:m,context:s,scriptTags:h,linkTags:y}))}catch(e){return r(e)}}),Bt.get("/company/:company",[zt,$t],(e,t,r)=>{try{const r=ce()(),o=n.resolve("../app/build/web/loadable-stats.json"),a=new ee.ChunkExtractor({statsFile:o}),s=Q.a.createElement(oe.CacheProvider,{value:r},Q.a.createElement(Ne,null,Q.a.createElement(Ve,null,Q.a.createElement(at,null,Q.a.createElement(re.StaticRouter,{location:e.originalUrl},Q.a.createElement(ke,null)))))),i=a.collectChunks(s),c=Object(te.renderToString)(i),l=se()(r);let u=(0,l.extractCritical)(Object(te.renderToString)(s)),p=u.css,d=u.ids;const m=a.getScriptTags(),y=a.getLinkTags(),h=ne.Helmet.renderStatic();return t.status(200).send(De({html:c,css:p,ids:d,helmet:h,scriptTags:m,linkTags:y}))}catch(e){return r(e)}}),Bt.get("/worker/:worker/jobs",[zt,Ht],wt),Bt.get("/worker/:worker/jobs/jobpost/:id",[zt,Ht],wt),Bt.get("/company/:company/postings",[zt,$t],St),Bt.get("/company/:company/postings/jobpost/:id",[zt,$t],St),Bt.get("/auth",[Lt],(e,t,r)=>{try{return"worker"===e.user.role||"company"===e.user.role?t.status(200).json({authenticated:e.user.authenticated,role:e.user.role}):t.redirect("/login")}catch(e){return r(e)}}),Bt.get("/acc",[Lt],(e,t,r)=>{try{if("worker"===e.user.role)pt.findById(e.user.id).select("email person profession").lean().exec((n,o)=>n?r(n):(console.log(o),t.status(200).json({role:e.user.role,username:e.user.username,email:o.email,fName:o.person.firstName,lName:o.person.lastName,city:o.person.address.city,province:o.person.address.province,career:o.profession.career,education:o.profession.education,experience:o.profession.experience,employed:o.profession.employed})));else{if("company"!==e.user.role)return t.redirect(500,"/login");ht.findById(e.user.id).select("username email role details").lean().exec((n,o)=>n?r(n):t.status(200).json({role:e.user.role,username:e.user.username,email:o.email,companyName:o.details.name,city:o.details.address.city,province:o.details.address.province}))}}catch(e){return r(e)}}),Bt.get("/acc/username",[Lt],(e,t,r)=>{try{return t.status(200).json({username:e.user.username})}catch(e){return r(e)}}),Bt.get("/jobpostings",[Lt],(e,t,r)=>{try{vt.find({company:e.user.id}).select("_id companyName createdAt jobType location salary title").lean().exec((n,o)=>n?r(n):t.status(200).json({list:[...o],pathname:`/dashboard/company/${e.user.username}/postings/jobpost`}))}catch(e){return r(e)}}),Bt.get("/jobpost",[Lt],(e,t,r)=>{try{vt.findOne({company:e.user.id,title:e.query.job}).select("_id companyName title location jobType salary body").lean().exec((e,n)=>e?r(e):t.status(200).json(n))}catch(e){return r(e)}}),Bt.post("/jobdetails",[Lt],(e,t,r)=>{try{console.log(e.body.id),vt.findById(e.body.id).select("companyName title body jobType salary").lean().exec((e,n)=>e?r(e):t.status(200).json(n))}catch(e){return r(e)}}),Bt.post("/jobs",[zt,Ht],(e,t,r)=>{try{vt.find(e.body).select("_id companyName title location jobType salary").lean().exec((n,o)=>n?r(n):t.status(200).json({list:[...o],pathname:`/dashboard/worker/${e.user.username}/jobs/jobpost`}))}catch(e){return r(e)}}),Bt.post("/company/:company/postings",[zt,$t],(e,t,r)=>{try{const n=e.body,o=n.companyName,a=n.title,s=n.body,i=n.location,c=n.jobType,l=n.salary;new vt({company:e.user.id,companyName:o,title:a,body:s,location:i,jobType:c,salary:l}).save((e,n)=>e?r(e):t.status(200).json({msg:"Ok"}))}catch(e){return r(e)}});var Kt=Bt;const Yt=s.a.Router();Yt.get("/",[(e,t,r)=>{try{return r()}catch(e){return r(e)}}],ft);var Zt=Yt;function Jt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Qt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Jt(Object(r),!0).forEach((function(t){er(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function er(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}N.a.use("worker",new E.Strategy(Qt({},Z),(e,t,r)=>{try{pt.findOne({email:e}).select("email username password authenticated role person").lean().exec((n,o)=>n?r(n):o?o.email!==e?r(null,!1):k.a.compareSync(t,o.password)?r(null,{id:o._id,authenticated:o.authenticated,role:o.role,username:o.username}):r(null,!1):r(null,!1))}catch(e){return r(e)}})),N.a.use("company",new E.Strategy(Qt({},Z),(e,t,r)=>{try{ht.findOne({email:e}).select("email username password authenticated role").lean().exec((n,o)=>n?r(n):o?o.email!==e?r(null,!1):k.a.compareSync(t,o.password)?r(null,{id:o._id,authenticated:o.authenticated,role:o.role,username:o.username}):r(null,!1):r(null,!1))}catch(e){return r(e)}}));const tr=s()(),rr=O()(b.a),nr=f.a.createClient(q);tr.use(s.a.urlencoded({extended:!0})),tr.use(s.a.json()),tr.use(u()({credentials:!0})),tr.use(c()("dev")),tr.use(d()()),tr.use(y()()),N.a.serializeUser((e,t)=>{let r;("worker"===e.role||"company"===e.role)&&(r={id:e.id,authenticated:e.authenticated,role:e.role,username:e.username}),t(null,r)}),N.a.deserializeUser((e,t)=>{"worker"===e.role?pt.findById(e.id).select("username authenticated role person").lean().exec((e,r)=>{if(e)return t(e);t(null,{id:r._id,authenticated:r.authenticated,role:r.role,username:r.username})}):"company"===e.role&&ht.findById(e.id).select("username authenticated role").lean().exec((e,r)=>{if(e)return t(e);t(null,{id:r._id,authenticated:r.authenticated,role:r.role,username:r.username})})}),tr.use(b()(Qt(Qt({},M),{},{store:new rr({client:nr})}))),tr.use(N.a.initialize()),tr.use(N.a.session()),tr.use(s.a.static(o.a.resolve("build"))),tr.use("/register",Gt),tr.use("/login",Vt),tr.use("/dashboard",Kt),tr.use("/welcome",Zt),tr.use((e,t,r,n)=>(console.error(e),n(e))),tr.use((e,t,r,n)=>r.status(500).send("Something has gone wrong...")),tr.get("*",st);(async()=>{try{await w.a.connect("mongodb://db:27017/blubelt",Qt({},z)),tr.listen(A,()=>{console.log(`Listening on port ${A}....`)})}catch(e){console.error(e)}})()},function(e,t){e.exports=require("@emotion/styled-base")},function(e,t){e.exports=require("react-transition-group")},function(e,t){e.exports=require("query-string")},function(e,t){e.exports=require("lodash/debounce")},function(e,t){e.exports=require("react-quill")},function(e,t){e.exports=require("react-quill/dist/quill.snow.css")}]);
//# sourceMappingURL=server.js.map